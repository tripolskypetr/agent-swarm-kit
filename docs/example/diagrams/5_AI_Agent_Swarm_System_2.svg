<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1638.7109375 1037" style="max-width: 1638.71px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="128" width="692.703125" y="595" x="275.484375" style=""/><g transform="translate(568.0234375, 595)" class="cluster-label"><foreignObject height="24" width="107.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Event Handling</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="562" width="365.6640625" y="314" x="1265.046875" style=""/><g transform="translate(1382.11328125, 314)" class="cluster-label"><foreignObject height="24" width="131.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Agent Swarm Core</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="868" width="256.859375" y="161" x="988.1875" style=""/><g transform="translate(1043.1953125, 161)" class="cluster-label"><foreignObject height="24" width="146.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Session Management</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="868" width="247.484375" y="8" x="8" style=""/><g transform="translate(63.4921875, 8)" class="cluster-label"><foreignObject height="24" width="136.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>External Interfaces</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TelegramBot_TelegramSession_0" d="M159.807,111L162.805,115.167C165.803,119.333,171.8,127.667,174.799,136C177.797,144.333,177.797,152.667,318.03,166.393C458.264,180.12,738.73,199.239,878.963,208.799L1019.197,218.359"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WebSocket_WebSession_0" d="M131.742,851L131.742,855.167C131.742,859.333,131.742,867.667,287.158,876C442.573,884.333,753.404,892.667,911.807,900.484C1070.211,908.302,1076.187,915.603,1079.175,919.254L1082.163,922.905"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TelegramSession_ChatBeginChat_0" d="M1116.617,264L1116.617,268.167C1116.617,272.333,1116.617,280.667,1116.617,289C1116.617,297.333,1116.617,305.667,1156.524,316.923C1196.431,328.18,1276.244,342.36,1316.151,349.45L1356.058,356.54"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WebSession_ChatBeginChat_0" d="M1148.538,926L1151.948,921.833C1155.359,917.667,1162.179,909.333,1228.221,901C1294.262,892.667,1419.523,884.333,1482.154,869.5C1544.785,854.667,1544.785,833.333,1544.785,812C1544.785,790.667,1544.785,769.333,1544.785,754.5C1544.785,739.667,1544.785,731.333,1544.785,716.5C1544.785,701.667,1544.785,680.333,1544.785,659C1544.785,637.667,1544.785,616.333,1544.785,601.5C1544.785,586.667,1544.785,578.333,1544.785,563.5C1544.785,548.667,1544.785,527.333,1544.785,506C1544.785,484.667,1544.785,463.333,1540.847,448.957C1536.91,434.581,1529.034,427.162,1525.096,423.452L1521.159,419.743"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ChatBeginChat_ChatSendMessage_0" d="M1435.448,417L1431.025,421.167C1426.602,425.333,1417.756,433.667,1413.333,441.333C1408.91,449,1408.91,456,1408.91,459.5L1408.91,463"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ChatSendMessage_LLMCompletionEvent_0" d="M1373.604,545L1369.833,549.167C1366.061,553.333,1358.517,561.667,1354.745,570C1350.973,578.333,1350.973,586.667,1211.913,600.307C1072.854,613.947,794.735,632.895,655.675,642.369L516.616,651.842"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ChatSendMessage_LLMTokenEvent_0" d="M1444.216,545L1447.988,549.167C1451.76,553.333,1459.304,561.667,1463.076,570C1466.848,578.333,1466.848,586.667,1346.517,600.281C1226.186,613.896,985.524,632.793,865.194,642.241L744.863,651.689"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LLMCompletionEvent_TelegramBot_0" d="M310.484,639.15L273.018,631.792C235.552,624.433,160.62,609.717,123.154,598.192C85.688,586.667,85.688,578.333,85.688,563.5C85.688,548.667,85.688,527.333,85.688,506C85.688,484.667,85.688,463.333,85.688,442C85.688,420.667,85.688,399.333,85.688,378C85.688,356.667,85.688,335.333,85.688,320.5C85.688,305.667,85.688,297.333,85.688,282.5C85.688,267.667,85.688,246.333,85.688,225C85.688,203.667,85.688,182.333,85.688,167.5C85.688,152.667,85.688,144.333,88.296,136.541C90.905,128.749,96.123,121.498,98.732,117.872L101.341,114.247"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LLMTokenEvent_WebSocket_0" d="M651.75,698L651.75,702.167C651.75,706.333,651.75,714.667,565.082,723C478.414,731.333,305.078,739.667,218.41,747.333C131.742,755,131.742,762,131.742,765.5L131.742,769"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DisposeEvent_ChatDispose_0" d="M862.031,698L862.031,702.167C862.031,706.333,862.031,714.667,953.178,723C1044.324,731.333,1226.617,739.667,1317.764,747.333C1408.91,755,1408.91,762,1408.91,765.5L1408.91,769"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(131.7421875, 72)" id="flowchart-TelegramBot-0" class="node default"><rect height="78" width="154.21875" y="-39" x="-77.109375" style="" class="basic label-container"/><g transform="translate(-47.109375, -24)" style="" class="label"><rect/><foreignObject height="48" width="94.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Telegram Bot<br />@bot_handle</p></span></div></foreignObject></g></g><g transform="translate(131.7421875, 812)" id="flowchart-WebSocket-1" class="node default"><rect height="78" width="177.484375" y="-39" x="-88.7421875" style="" class="basic label-container"/><g transform="translate(-58.7421875, -24)" style="" class="label"><rect/><foreignObject height="48" width="117.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WebSocket<br />/session/:chatId</p></span></div></foreignObject></g></g><g transform="translate(1116.6171875, 225)" id="flowchart-TelegramSession-2" class="node default"><rect height="78" width="186.859375" y="-39" x="-93.4296875" style="" class="basic label-container"/><g transform="translate(-63.4296875, -24)" style="" class="label"><rect/><foreignObject height="48" width="126.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>telegram-{chatId}<br />Client ID Pattern</p></span></div></foreignObject></g></g><g transform="translate(1116.6171875, 965)" id="flowchart-WebSession-3" class="node default"><rect height="78" width="179.53125" y="-39" x="-89.765625" style="" class="basic label-container"/><g transform="translate(-59.765625, -24)" style="" class="label"><rect/><foreignObject height="48" width="119.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>web-{chatId}<br />Client ID Pattern</p></span></div></foreignObject></g></g><g transform="translate(1476.84765625, 378)" id="flowchart-ChatBeginChat-4" class="node default"><rect height="78" width="233.703125" y="-39" x="-116.8515625" style="" class="basic label-container"/><g transform="translate(-86.8515625, -24)" style="" class="label"><rect/><foreignObject height="48" width="173.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Chat.beginChat()<br />SwarmName.RootSwarm</p></span></div></foreignObject></g></g><g transform="translate(1408.91015625, 506)" id="flowchart-ChatSendMessage-5" class="node default"><rect height="78" width="201.75" y="-39" x="-100.875" style="" class="basic label-container"/><g transform="translate(-70.875, -24)" style="" class="label"><rect/><foreignObject height="48" width="141.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Chat.sendMessage()<br />Message Processing</p></span></div></foreignObject></g></g><g transform="translate(1408.91015625, 812)" id="flowchart-ChatDispose-6" class="node default"><rect height="78" width="173.90625" y="-39" x="-86.953125" style="" class="basic label-container"/><g transform="translate(-56.953125, -24)" style="" class="label"><rect/><foreignObject height="48" width="113.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Chat.dispose()<br />Session Cleanup</p></span></div></foreignObject></g></g><g transform="translate(411.5546875, 659)" id="flowchart-LLMCompletionEvent-7" class="node default"><rect height="78" width="202.140625" y="-39" x="-101.0703125" style="" class="basic label-container"/><g transform="translate(-71.0703125, -24)" style="" class="label"><rect/><foreignObject height="48" width="142.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>llm-completion<br />Response Streaming</p></span></div></foreignObject></g></g><g transform="translate(651.75, 659)" id="flowchart-LLMTokenEvent-8" class="node default"><rect height="78" width="178.25" y="-39" x="-89.125" style="" class="basic label-container"/><g transform="translate(-59.125, -24)" style="" class="label"><rect/><foreignObject height="48" width="118.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>llm-new-token<br />Token Streaming</p></span></div></foreignObject></g></g><g transform="translate(862.03125, 659)" id="flowchart-DisposeEvent-9" class="node default"><rect height="78" width="142.3125" y="-39" x="-71.15625" style="" class="basic label-container"/><g transform="translate(-41.15625, -24)" style="" class="label"><rect/><foreignObject height="48" width="82.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>dispose<br />Session End</p></span></div></foreignObject></g></g></g></g></g></svg>