<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1098.25 886" style="max-width: 1098.25px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="Output" class="cluster"><rect height="228" width="281.609375" y="8" x="219.140625" style=""/><g transform="translate(335.0078125, 8)" class="cluster-label"><foreignObject height="24" width="49.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Output</p></span></div></foreignObject></g></g><g data-look="classic" id="Dependencies" class="cluster"><rect height="644" width="298.5" y="234" x="791.75" style=""/><g transform="translate(891.5, 234)" class="cluster-label"><foreignObject height="24" width="99"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Dependencies</p></span></div></foreignObject></g></g><g data-look="classic" id="AgentConnectionService" class="cluster"><rect height="601" width="733.75" y="256" x="8" style=""/><g transform="translate(288.125, 256)" class="cluster-label"><foreignObject height="24" width="173.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AgentConnectionService</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetAgent_Memoize_0" d="M125.233,477L136.717,464.167C148.202,451.333,171.171,425.667,186.823,412.833C202.474,400,210.807,400,223.5,400C236.193,400,253.245,400,261.771,400L270.297,400"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Memoize_SchemaLookup_0" d="M445.594,400L454.786,400C463.979,400,482.365,400,495.724,400C509.083,400,517.417,400,525.083,400C532.75,400,539.75,400,543.25,400L546.75,400"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SchemaLookup_AgentSchema_0" d="M661.788,373L675.115,360.167C688.442,347.333,715.096,321.667,732.59,308.833C750.083,296,758.417,296,766.75,296C775.083,296,783.417,296,794.479,296C805.542,296,819.333,296,826.229,296L833.125,296"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SchemaLookup_ToolSchema_0" d="M716.75,400L720.917,400C725.083,400,733.417,400,741.75,400C750.083,400,758.417,400,766.75,400C775.083,400,783.417,400,795.487,400C807.557,400,823.365,400,831.268,400L839.172,400"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SchemaLookup_CompletionSchema_0" d="M661.788,427L675.115,439.833C688.442,452.667,715.096,478.333,732.59,491.167C750.083,504,758.417,504,766.75,504C775.083,504,783.417,504,791.083,504C798.75,504,805.75,504,809.25,504L812.75,504"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetAgent_HistoryConn_0" d="M125.233,531L136.717,543.833C148.202,556.667,171.171,582.333,186.823,595.167C202.474,608,210.807,608,238.441,608C266.076,608,313.01,608,359.945,608C406.88,608,453.815,608,481.449,608C509.083,608,517.417,608,539.583,608C561.75,608,597.75,608,633.75,608C669.75,608,705.75,608,727.917,608C750.083,608,758.417,608,766.75,608C775.083,608,783.417,608,791.561,608C799.706,608,807.661,608,811.639,608L815.617,608"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetAgent_StorageConn_0" d="M113.152,531L126.65,561.167C140.148,591.333,167.144,651.667,184.809,681.833C202.474,712,210.807,712,238.441,712C266.076,712,313.01,712,359.945,712C406.88,712,453.815,712,481.449,712C509.083,712,517.417,712,539.583,712C561.75,712,597.75,712,633.75,712C669.75,712,705.75,712,727.917,712C750.083,712,758.417,712,766.75,712C775.083,712,783.417,712,791.273,712C799.13,712,806.51,712,810.201,712L813.891,712"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetAgent_StateConn_0" d="M109.124,531L123.294,578.5C137.463,626,165.802,721,184.138,768.5C202.474,816,210.807,816,238.441,816C266.076,816,313.01,816,359.945,816C406.88,816,453.815,816,481.449,816C509.083,816,517.417,816,539.583,816C561.75,816,597.75,816,633.75,816C669.75,816,705.75,816,727.917,816C750.083,816,758.417,816,766.75,816C775.083,816,783.417,816,792.647,816C801.878,816,812.005,816,817.069,816L822.133,816"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetAgent_ClientAgent_0" d="M113.21,477L126.698,447C140.187,417,167.164,357,184.819,327C202.474,297,210.807,297,235.299,264.233C259.79,231.466,300.44,165.933,320.764,133.166L341.089,100.399"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GetAgent_ClientOperator_0" d="M114.508,477L127.78,450.333C141.052,423.667,167.597,370.333,185.035,343.667C202.474,317,210.807,317,233.543,298.142C256.278,279.283,293.416,241.567,311.985,222.709L330.553,203.85"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(101.0703125, 504)" id="flowchart-GetAgent-0" class="node default"><rect height="54" width="136.140625" y="-27" x="-68.0703125" style="" class="basic label-container"/><g transform="translate(-38.0703125, -12)" style="" class="label"><rect/><foreignObject height="24" width="76.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>getAgent()</p></span></div></foreignObject></g></g><g transform="translate(359.9453125, 400)" id="flowchart-Memoize-1" class="node default"><rect height="54" width="171.296875" y="-27" x="-85.6484375" style="" class="basic label-container"/><g transform="translate(-55.6484375, -12)" style="" class="label"><rect/><foreignObject height="24" width="111.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>memoize cache</p></span></div></foreignObject></g></g><g transform="translate(633.75, 400)" id="flowchart-SchemaLookup-2" class="node default"><rect height="54" width="166" y="-27" x="-83" style="" class="basic label-container"/><g transform="translate(-53, -12)" style="" class="label"><rect/><foreignObject height="24" width="106"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>schema lookup</p></span></div></foreignObject></g></g><g transform="translate(941, 296)" id="flowchart-AgentSchema-3" class="node default"><rect height="54" width="207.75" y="-27" x="-103.875" style="" class="basic label-container"/><g transform="translate(-73.875, -12)" style="" class="label"><rect/><foreignObject height="24" width="147.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AgentSchemaService</p></span></div></foreignObject></g></g><g transform="translate(941, 400)" id="flowchart-ToolSchema-4" class="node default"><rect height="54" width="195.65625" y="-27" x="-97.828125" style="" class="basic label-container"/><g transform="translate(-67.828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="135.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ToolSchemaService</p></span></div></foreignObject></g></g><g transform="translate(941, 504)" id="flowchart-CompletionSchema-5" class="node default"><rect height="54" width="248.5" y="-27" x="-124.25" style="" class="basic label-container"/><g transform="translate(-94.25, -12)" style="" class="label"><rect/><foreignObject height="24" width="188.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CompletionSchemaService</p></span></div></foreignObject></g></g><g transform="translate(941, 608)" id="flowchart-HistoryConn-6" class="node default"><rect height="54" width="242.765625" y="-27" x="-121.3828125" style="" class="basic label-container"/><g transform="translate(-91.3828125, -12)" style="" class="label"><rect/><foreignObject height="24" width="182.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HistoryConnectionService</p></span></div></foreignObject></g></g><g transform="translate(941, 712)" id="flowchart-StorageConn-7" class="node default"><rect height="54" width="246.21875" y="-27" x="-123.109375" style="" class="basic label-container"/><g transform="translate(-93.109375, -12)" style="" class="label"><rect/><foreignObject height="24" width="186.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StorageConnectionService</p></span></div></foreignObject></g></g><g transform="translate(941, 816)" id="flowchart-StateConn-8" class="node default"><rect height="54" width="229.734375" y="-27" x="-114.8671875" style="" class="basic label-container"/><g transform="translate(-84.8671875, -12)" style="" class="label"><rect/><foreignObject height="24" width="169.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateConnectionService</p></span></div></foreignObject></g></g><g transform="translate(359.9453125, 70)" id="flowchart-ClientAgent-9" class="node default"><rect height="54" width="208.6875" y="-27" x="-104.34375" style="" class="basic label-container"/><g transform="translate(-74.34375, -12)" style="" class="label"><rect/><foreignObject height="24" width="148.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientAgent instance</p></span></div></foreignObject></g></g><g transform="translate(359.9453125, 174)" id="flowchart-ClientOperator-10" class="node default"><rect height="54" width="231.609375" y="-27" x="-115.8046875" style="" class="basic label-container"/><g transform="translate(-85.8046875, -12)" style="" class="label"><rect/><foreignObject height="24" width="171.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ClientOperator instance</p></span></div></foreignObject></g></g></g></g></g></svg>